{% extends "base.html" %} 
{% load crispy_forms_tags %}

{% block content %}
<form method="POST" action="{% url 'routine_create' %}">
  {% csrf_token %}
  {{ form|crispy }}
  <button id="create_routine_btn" class="btn btn-primary">Create Routine</button>
</form>

<table id="routine_list" class="table table-borderless">
  {% for routine in routines %}
    <tr class="d-flex justify-content-between">
      <td>
        <a id="routine_list_item" href="{{ routine.get_absolute_url }}">{{ routine.name }}</a>
      </td>
      <td>
        <form method="POST" action="{% url 'routine_workout_create' routine.id %}" class="d-flex justify-content-center mb-3">
          {% csrf_token %}
          <input type="hidden" name="routine_id" value="{{ routine.id }}" />
          <button id="add_routine_to_workout_btn" class="btn btn-primary">Start Workout</button>
        </form>
      </td>
      <td>
        <form
          method="POST"
          action="{% url 'routine_delete' routine.id %}"
        >
          {% csrf_token %}
          <button id="delete_routine_btn" class="btn btn-danger">Delete</button>
        </form>
      </td>
    </tr>
  {% endfor routine %}
</table>
{% endblock content %}